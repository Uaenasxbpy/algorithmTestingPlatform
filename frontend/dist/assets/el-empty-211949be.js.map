{"version":3,"file":"el-empty-211949be.js","sources":["../../src/api/results.ts","../../src/stores/results.ts"],"sourcesContent":["import api from './index'\n\n// 结果相关接口\nexport interface TestResult {\n  id: number\n  task_id: number\n  metric_name: string\n  value: number\n  unit?: string\n  test_round?: number\n  created_at: string\n}\n\nexport interface PerformanceMetrics {\n  avg_keygen_time?: number\n  avg_encaps_time?: number\n  avg_decaps_time?: number\n  avg_sign_time?: number\n  avg_verify_time?: number\n  success_rate: number\n  public_key_size?: number\n  private_key_size?: number\n  signature_size?: number\n  ciphertext_size?: number\n}\n\nexport interface ResultSummary {\n  [metricName: string]: {\n    count: number\n    avg: number\n    min: number\n    max: number\n    median: number\n    std_dev: number\n  } | {\n    task_info: {\n      task_id: number\n      task_name: string\n      test_count: number\n      algorithm_name: string\n      category: string\n    }\n  }\n}\n\nexport const resultApi = {\n  // 获取任务结果\n  getTaskResults: (taskId: number): Promise<TestResult[]> => {\n    return api.get(`/results/task/${taskId}`)\n  },\n\n  // 获取任务结果摘要\n  getTaskResultsSummary: (taskId: number): Promise<ResultSummary> => {\n    return api.get(`/results/task/${taskId}/summary`)\n  },\n\n  // 获取任务性能指标\n  getTaskPerformanceMetrics: (taskId: number): Promise<PerformanceMetrics> => {\n    return api.get(`/results/task/${taskId}/metrics`)\n  },\n\n  // 比较算法性能\n  compareAlgorithms: (params: {\n    algorithm_ids: string\n    metric_name?: string\n  }): Promise<any> => {\n    return api.get('/results/compare', { params })\n  },\n\n  // 获取算法最新结果\n  getAlgorithmLatestResults: (params: {\n    algorithm_id: number\n    limit?: number\n  }): Promise<TestResult[]> => {\n    return api.get(`/results/algorithm/${params.algorithm_id}/latest`, {\n      params: { limit: params.limit }\n    })\n  },\n\n  // 获取算法性能历史\n  getAlgorithmPerformanceHistory: (params: {\n    algorithm_id: number\n    metric_name: string\n    days?: number\n  }): Promise<any> => {\n    return api.get(`/results/algorithm/${params.algorithm_id}/history`, {\n      params: { metric_name: params.metric_name, days: params.days }\n    })\n  },\n}","import { defineStore } from 'pinia'\nimport { resultApi, type TestResult, type PerformanceMetrics, type ResultSummary } from '@/api/results'\n\nexport const useResultStore = defineStore('results', {\n  state: () => ({\n    taskResults: new Map<number, TestResult[]>(),\n    taskSummaries: new Map<number, ResultSummary>(),\n    taskMetrics: new Map<number, PerformanceMetrics>(),\n    loading: false,\n    error: null as string | null,\n  }),\n\n  getters: {\n    getTaskResults: (state) => (taskId: number) => state.taskResults.get(taskId) || [],\n    getTaskSummary: (state) => (taskId: number) => state.taskSummaries.get(taskId),\n    getTaskMetrics: (state) => (taskId: number) => state.taskMetrics.get(taskId),\n  },\n\n  actions: {\n    async fetchTaskResults(taskId: number) {\n      this.loading = true\n      this.error = null\n      \n      try {\n        const results = await resultApi.getTaskResults(taskId)\n        this.taskResults.set(taskId, results)\n        return results\n      } catch (error: any) {\n        this.error = error.message || '获取任务结果失败'\n        throw error\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async fetchTaskResultsSummary(taskId: number) {\n      this.loading = true\n      this.error = null\n      \n      try {\n        const summary = await resultApi.getTaskResultsSummary(taskId)\n        this.taskSummaries.set(taskId, summary)\n        return summary\n      } catch (error: any) {\n        this.error = error.message || '获取任务结果摘要失败'\n        throw error\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async fetchTaskPerformanceMetrics(taskId: number) {\n      this.loading = true\n      this.error = null\n      \n      try {\n        const metrics = await resultApi.getTaskPerformanceMetrics(taskId)\n        this.taskMetrics.set(taskId, metrics)\n        return metrics\n      } catch (error: any) {\n        this.error = error.message || '获取性能指标失败'\n        throw error\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async compareAlgorithms(algorithmIds: number[], metricName?: string) {\n      this.loading = true\n      this.error = null\n      \n      try {\n        const comparison = await resultApi.compareAlgorithms({\n          algorithm_ids: algorithmIds.join(','),\n          metric_name: metricName\n        })\n        return comparison\n      } catch (error: any) {\n        this.error = error.message || '算法对比失败'\n        throw error\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async fetchAlgorithmLatestResults(algorithmId: number, limit: number = 10) {\n      this.loading = true\n      this.error = null\n      \n      try {\n        const results = await resultApi.getAlgorithmLatestResults({\n          algorithm_id: algorithmId,\n          limit\n        })\n        return results\n      } catch (error: any) {\n        this.error = error.message || '获取算法最新结果失败'\n        throw error\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async fetchAlgorithmPerformanceHistory(algorithmId: number, metricName: string, days: number = 30) {\n      this.loading = true\n      this.error = null\n      \n      try {\n        const history = await resultApi.getAlgorithmPerformanceHistory({\n          algorithm_id: algorithmId,\n          metric_name: metricName,\n          days\n        })\n        return history\n      } catch (error: any) {\n        this.error = error.message || '获取性能历史失败'\n        throw error\n      } finally {\n        this.loading = false\n      }\n    },\n\n    clearError() {\n      this.error = null\n    },\n\n    clearTaskData(taskId: number) {\n      this.taskResults.delete(taskId)\n      this.taskSummaries.delete(taskId)\n      this.taskMetrics.delete(taskId)\n    },\n  },\n})"],"names":["resultApi","taskId","api","params","useResultStore","defineStore","state","results","error","summary","metrics","algorithmIds","metricName","algorithmId","limit","days"],"mappings":"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"}